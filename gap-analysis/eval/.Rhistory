source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
com_bplot$XVAL
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
?geom_bar
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
dev.off()
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
con_bplot <- plot_bars(fits=con_fit,scores=con_scores,file_name=paste("./figures/barplot/",gpool,"_contextual.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
con_bplot <- plot_bars(fits=con_fit,scores=con_scores,file_name=paste("./figures/barplot/",gpool,"_contextual.png",sep=""))
com_bplot
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
con_bplot <- plot_bars(fits=con_fit,scores=con_scores,file_name=paste("./figures/barplot/",gpool,"_contextual.png",sep=""))
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_bplot <- plot_bars(fits=com_fit,scores=com_scores,file_name=paste("./figures/barplot/",gpool,"_comparable.png",sep=""))
con_bplot <- plot_bars(fits=con_fit,scores=con_scores,file_name=paste("./figures/barplot/",gpool,"_contextual.png",sep=""))
#save outputs
save(list=c("com_fit","com_scores","com_bplot","con_fit","con_scores","con_bplot"),file=paste("./output/",gpool,".RData",sep=""))
rMod <- read.table("./general_table.tab",header=T,sep="\t")
head(rMod)
rMod <- read.table("./model/fps_all.tab",header=T,sep="\t")
all_res <- read.table("./general_table.tab",header=T,sep="\t")
head(all_res)
ex_score <- "Comparative" #contextual
grep(ex_score,names(ex_score))
grep(ex_score,names(all_res))
ex_res <- all_res[,c("Taxa","FPS",grep(ex_score,names(all_res)))]
str(all_res)
c("Taxa","FPS",grep(ex_score,names(all_res)))
ex_res <- all_res[,c("Taxa","FPS",names(all_res)[grep(ex_score,names(all_res)))]]
names(all_res)[grep(ex_score,names(all_res)))]
names(all_res)[grep(ex_score,names(all_res))]
ex_res <- all_res[,c("Taxa","FPS",names(all_res)[grep(ex_score,names(all_res))])]
head(ex_res)
ex_res$Expert <- apply(ex_res[,names(all_res)[grep(ex_score,names(all_res))]],1,FUN=function(x) {mean(x,na.rm=T)})
head(ex_res)
ex_score <- "Comparative" #contextual
ex_res <- all_res[,c("Taxa","FPS",names(all_res)[grep(ex_score,names(all_res))])]
ex_res$Expert <- apply(ex_res[,names(all_res)[grep(ex_score,names(all_res))]],1,FUN=function(x) {y <- x[which(!is.na(x))]; if (length(y)==0) {y<-NA} else {y <- mean(x,na.rm=T)}; return(y)})
ex_res <- ex_res[which(is.na(ex_res$Expert),]
ex_res <- ex_res[which(is.na(ex_res$Expert)),]
nrow(all_res)
nrow(ex_res)
ex_score <- "Comparative" #contextual
ex_res <- all_res[,c("Taxa","FPS",names(all_res)[grep(ex_score,names(all_res))])]
ex_res$Expert <- apply(ex_res[,names(all_res)[grep(ex_score,names(all_res))]],1,FUN=function(x) {y <- x[which(!is.na(x))]; if (length(y)==0) {y<-NA} else {y <- mean(x,na.rm=T)}; return(y)})
ex_res <- ex_res[which(!is.na(ex_res$Expert)),]
head(ex_res)
nrow(ex_res)
nrow(all_Res)
nrow(all_res)
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
rm(ex_res)
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_res <- filter_data(in_data=all_res,score="Comparative")
con_res <- filter_data(in_data=all_res,score="Contextual")
head(con_res)
head(all_res)
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_res <- filter_data(in_data=all_res,score="Comparative")
head(com_res)
unique(com_res$GP)
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
all_res <- read.table("./general_table.tab",header=T,sep="\t")
#filter data for the two scores
com_res <- filter_data(in_data=all_res,score="Comparative")
con_res <- filter_data(in_data=all_res,score="Contextual")
head(com_res)
exp_res <- com_res
gp_list <- unique(exp_res$Genepool)
gp_list
exp_lm <- list()
exp_rho <- data.frame()
gp <- gp_list[1]
fitdata <- exp_res[which(exp_res$Genepool == gp),]
fitdata
fitdata <- data.frame(fps=fitdata$FPS,eps=fitdata$Expert)
fitdata <- fitdata[which(!is.na(fitdata$fps)),]
fitdata <- fitdata[which(!is.na(fitdata$eps)),]
mod <- lm(fps ~ eps,data=fitdata)
fps_p <- predict(mod,newdata=data.frame(eps=0:15),interval="predict",level=0.2)
fps_p <- as.data.frame(cbind(eps=0:15,fps_p))
exp_lm[[paste(gp)]] <- fps_p
rho <- cor.test(fitdata$fps,fitdata$eps,method="spearman")
rho
exp_rho <- rbind(exp_rho,data.frame(EXPERT=i,RHO=rho$estimate,PVAL=rho$p.value))
exp_rho <- rbind(exp_rho,data.frame(Genepool=gp,RHO=rho$estimate,PVAL=rho$p.value))
exp_rho
fitdata <- data.frame(fps=exp_res$FPS,eps=exp_res$Expert)
fitdata <- fitdata[which(!is.na(fitdata$fps)),]
fitdata <- fitdata[which(!is.na(fitdata$eps)),]
mod <- lm(fps ~ eps,data=fitdata)
fps_p <- predict(mod,newdata=data.frame(eps=0:15),interval="predict",level=0.2)
fps_p <- as.data.frame(cbind(eps=0:15,fps_p))
exp_lm[["ALL"]] <- fps_p
rho <- cor.test(fitdata$fps,fitdata$eps,method="spearman")
exp_rho <- rbind(exp_rho,data.frame(Genepool="ALL",RHO=rho$estimate,PVAL=rho$p.value))
exp_rho
fitdata
#if > 1 expert, glm of avg + each expert (shading is max/min amongst experts pred +- CI)
#else regression of only expert and shading is C.I.
exp_lm <- list()
exp_rho <- data.frame()
for (gp in gp_list) {
#gp <- gp_list[1]
fitdata <- exp_res[which(exp_res$Genepool == gp),]
fitdata <- data.frame(fps=fitdata$FPS,eps=fitdata$Expert)
fitdata <- fitdata[which(!is.na(fitdata$fps)),]
fitdata <- fitdata[which(!is.na(fitdata$eps)),]
if (nrow(fitdata)>2) {
mod <- lm(fps ~ eps,data=fitdata)
fps_p <- predict(mod,newdata=data.frame(eps=0:15),interval="predict",level=0.2)
fps_p <- as.data.frame(cbind(eps=0:15,fps_p))
exp_lm[[paste(gp)]] <- fps_p
rho <- cor.test(fitdata$fps,fitdata$eps,method="spearman")
exp_rho <- rbind(exp_rho,data.frame(Genepool=gp,RHO=rho$estimate,PVAL=rho$p.value))
} else {
fps_p <- as.data.frame(cbind(eps=0:15,fit=NA,lwr=NA,upr=NA))
exp_lm[[paste(gp)]] <- fps_p
exp_rho <- rbind(exp_rho,data.frame(Genepool=gp,RHO=NA,PVAL=NA))
}
}
#fit of average of both experts
fitdata <- data.frame(fps=exp_res$FPS,eps=exp_res$Expert)
fitdata <- fitdata[which(!is.na(fitdata$fps)),]
fitdata <- fitdata[which(!is.na(fitdata$eps)),]
mod <- lm(fps ~ eps,data=fitdata)
fps_p <- predict(mod,newdata=data.frame(eps=0:15),interval="predict",level=0.2)
fps_p <- as.data.frame(cbind(eps=0:15,fps_p))
exp_lm[["ALL"]] <- fps_p
rho <- cor.test(fitdata$fps,fitdata$eps,method="spearman")
exp_rho <- rbind(exp_rho,data.frame(Genepool="ALL",RHO=rho$estimate,PVAL=rho$p.value))
exp_rho
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_fit <- fit_gp(exp_res=com_res)
con_fit <- fit_gp(exp_res=con_res)
com_fit$LM$triticum
com_fit$RHO
file_name <- "./figures/scattergram/all_GPs.png"
fits <- com_fit
#scattergram
exp_lm <- fits$LM
exp_rho <- fits$RHO
gp_list <- names(exp_lm)
gp_list
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
exp_rho
gp <- gp_list[1]
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000040",border=NA)
}
gp_list <- names(exp_lm); gp_list <- gp_list[which(gp_list != "ALL")]
gp_list
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
#1. shading of each expert and of the mean
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000040",border=NA)
}
tpol <- c(exp_lm$ALL$lwr,rev(exp_lm$ALL$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#0000FF50",border=NA)
for (gp in gp_list) {
lines(exp_lm[[paste(gp)]]$fit,exp_lm[[paste(gp)]]$eps,col="grey 30",lwd=1.5)
}
#0. base graph
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
#1. shading of each expert and of the mean
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000060",border=NA)
}
#0. base graph
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
#1. shading of each expert and of the mean
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000020",border=NA)
}
#2. Shading of mean
tpol <- c(exp_lm$ALL$lwr,rev(exp_lm$ALL$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#0000FF50",border=NA)
#2. any available experts experts (individual lines in gray)
for (gp in gp_list) {
lines(exp_lm[[paste(gp)]]$fit,exp_lm[[paste(gp)]]$eps,col="grey 30",lwd=1.5)
}
#0. base graph
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
#1. shading of each expert and of the mean
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000020",border=NA)
}
#2. Shading of mean
tpol <- c(exp_lm$ALL$lwr,rev(exp_lm$ALL$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#0000FF60",border=NA)
#2. any available experts experts (individual lines in gray)
for (gp in gp_list) {
lines(exp_lm[[paste(gp)]]$fit,exp_lm[[paste(gp)]]$eps,col="grey 20",lwd=1.5)
}
#0. base graph
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
#1. shading of each expert and of the mean
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000020",border=NA)
}
#2. any available experts experts (individual lines in gray)
for (gp in gp_list) {
lines(exp_lm[[paste(gp)]]$fit,exp_lm[[paste(gp)]]$eps,col="grey 40",lwd=1.5)
}
#3. Shading of mean
tpol <- c(exp_lm$ALL$lwr,rev(exp_lm$ALL$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#0000FF60",border=NA)
#4. central line that is lm of average
lines(exp_lm$ALL$fit,exp_lm$ALL$eps,col="blue",lwd=2.5)
lines(exp_lm$ALL$fit,exp_lm$ALL$eps,col="blue",lwd=3.5)
#5. points in black for mean of expers
exp_res <- com_res
points(exp_res$FPS,exp_res$Expert,pch=20)
points(exp_res$FPS,exp_res$Expert,pch=20,cex=0.8)
for (gp in gp_list) {
this_gp <- exp_res[which(exp_res$Genepool == gp),]
points(this_gp$FPS,this_gp$Expert,col="grey 30",pch=21)
}
#0. base graph
par(mar=c(4,4,1,1))
plot(0:10,0:10,xlim=c(0,10),ylim=c(0,10),pch=20,col="white",
xlab="Model",ylab="Expert",font.axis=1,font.lab=2)
grid()
#1. shading of each expert and of the mean
for (gp in gp_list) {
#gp <- gp_list[1]
tpol <- c(exp_lm[[paste(gp)]]$lwr,rev(exp_lm[[paste(gp)]]$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#00000020",border=NA)
}
#2. any available experts experts (individual lines in gray)
for (gp in gp_list) {
lines(exp_lm[[paste(gp)]]$fit,exp_lm[[paste(gp)]]$eps,col="grey 40",lwd=1.5)
}
#3. Shading of mean
tpol <- c(exp_lm$ALL$lwr,rev(exp_lm$ALL$upr))
polygon(x=tpol,y=c(0:15,rev(0:15)),col="#0000FF60",border=NA)
#4. central line that is lm of average
lines(exp_lm$ALL$fit,exp_lm$ALL$eps,col="blue",lwd=3.5)
#5. points in black for mean of expers
points(exp_res$FPS,exp_res$Expert,pch=21,cex=0.8)
# #6. points in grey being individual experts
# for (gp in gp_list) {
#   this_gp <- exp_res[which(exp_res$Genepool == gp),]
#   points(this_gp$FPS,this_gp$Expert,col="grey 30",pch=21)
# }
rho_m <- round(exp_rho$RHO[nrow(exp_rho)],2)
rho_m
rho_m <- round(exp_rho$RHO[nrow(exp_rho)],2)
pval <- exp_rho$PVAL[nrow(exp_rho)]
rho_m <- round(exp_rho$RHO[nrow(exp_rho)],2)
pval <- exp_rho$PVAL[nrow(exp_rho)]
if (pval > .1) {
signif <- "NS"
} else if (pval <= .1 & pval > 0.05) {
signif <- "*"
} else if (pval <= .05 & pval > 0.01) {
signif <- "**"
} else if (pval <= .01) {
signif <- "***"
}
wtext <- substitute(paste(rho,plain(" = "),rhm,plain(" "),sgn),list(rhm=rho_m,sgn=signif))
text(0,9.5,cex=1,pos=4,wtext)
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_plot <- plot_scatter_all(fits-com_fit,exp_res=com_res,file_name="./figures/scattergram/all_GPs_comparative.png")
com_plot <- plot_scatter_all(fits=com_fit,exp_res=com_res,file_name="./figures/scattergram/all_GPs_comparative.png")
com_plot <- plot_scatter_all(fits=con_fit,exp_res=con_res,file_name="./figures/scattergram/all_GPs_comparative.png")
com_plot <- plot_scatter_all(fits=com_fit,exp_res=com_res,file_name="./figures/scattergram/all_GPs_comparative.png")
com_plot <- plot_scatter_all(fits=con_fit,exp_res=con_res,file_name="./figures/scattergram/all_GPs_contextual.png")
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
#filter data for the two scores
com_res <- filter_data(in_data=all_res,score="Comparative")
con_res <- filter_data(in_data=all_res,score="Contextual")
#fitting the results
com_fit <- fit_gp(exp_res=com_res)
con_fit <- fit_gp(exp_res=con_res)
#plotting all stuff
com_plot <- plot_scatter_all(fits=com_fit,exp_res=com_res,file_name="./figures/scattergram/all_GPs_comparative.png")
con_plot <- plot_scatter_all(fits=con_fit,exp_res=con_res,file_name="./figures/scattergram/all_GPs_contextual.png")
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
source('D:/_tools/gap-analysis-cwr/trunk/gap-analysis/eval/eval-functions.R')
com_res <- filter_data(in_data=all_res,ex_score="Comparative")
con_res <- filter_data(in_data=all_res,ex_score="Contextual")
#fitting the results
com_fit <- fit_gp(exp_res=com_res)
con_fit <- fit_gp(exp_res=con_res)
#plotting all stuff
com_plot <- plot_scatter_all(fits=com_fit,exp_res=com_res,file_name="./figures/scattergram/all_GPs_comparative.png")
con_plot <- plot_scatter_all(fits=con_fit,exp_res=con_res,file_name="./figures/scattergram/all_GPs_contextual.png")
plot(density(com_fit$RHO$RHO,na.rm=T))
lines(density(con_fit$RHO$RHO,na.rm=T))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red")
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue")
png("./figures/density_summary.png",width=2048,height=1500,res=300,pointsize=13)
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
grid()
dev.off()
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
grid()
dev.off()
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4,4,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
grid()
dev.off()
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=0.9,legend=c("Comparative","Contextual"),col=c("red","blue")
fill=c(NA,NA),lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=0.9,legend=c("Comparative","Contextual"),col=c("red","blue"),
fill=c(NA,NA),lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=0.9,legend=c("Comparative","Contextual"),col=c("red","blue"),
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=0.95,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab="Spearman coefficient",ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=1,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab=paste(expression(plain("Spearman coefficient ("),rho,plain(")"))),ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=1,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab=expression(plain("Spearman coefficient ("),rho,plain(")")),ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=1,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="red",
xlab=expression(paste(plain("Spearman coefficient ("),rho,plain(")"))),ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=1,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
#plot a pdf of the rho values
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),xlim=c(-1,1),col="red",
xlab=expression(paste(plain("Spearman coefficient ("),rho,plain(")"))),ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1.25,y=1,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
png("./figures/density_summary.png",width=2048,height=1800,res=300,pointsize=13)
par(mar=c(4.5,4.5,1,1))
plot(density(com_fit$RHO$RHO,na.rm=T),ylim=c(0,1),xlim=c(-1,1),col="red",
xlab=expression(paste(plain("Spearman coefficient ("),rho,plain(")"))),ylab="Density",main=NA,lwd=1.5)
lines(density(con_fit$RHO$RHO,na.rm=T),ylim=c(0,1),col="blue",lwd=1.5)
legend(x=-1,y=1,legend=c("Comparative","Contextual"),col=c("red","blue"),bg="white",
lty=c(1,1),lwd=c(1.5,1.5))
grid()
dev.off()
save(list=c("all_res","com_fit","con_fit","com_res","con_res"),file=paste("./output/summary.RData",sep=""))
